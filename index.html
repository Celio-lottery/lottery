<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç£æ¨‚é€å½©å³æ™‚é–‹çè™Ÿç¢¼</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #eef2f7;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 30px auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #0056b3;
            margin-bottom: 30px;
            font-size: 2.5em;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 15px;
        }
        .lottery-section {
            background-color: #f9fcff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px 25px;
            margin-bottom: 25px;
            transition: transform 0.2s ease-in-out;
        }
        .lottery-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }
        .lottery-section h2 {
            color: #2a6fbd;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
        }
        .lottery-section h2::before {
            content: "ğŸ²"; /* Emoji for visual appeal */
            margin-right: 10px;
            font-size: 0.9em;
        }
        .lottery-date {
            font-weight: bold;
            color: #555;
            margin-bottom: 10px;
            display: block;
            font-size: 1.1em;
        }
        .lottery-numbers {
            font-size: 1.8em;
            color: #007bff;
            font-weight: bold;
            letter-spacing: 1px;
            word-spacing: 3px;
        }
        .lottery-numbers span.special-number {
            color: #dc3545; /* Red for special number */
            margin-left: 15px;
            font-size: 0.9em;
        }
        .loading {
            text-align: center;
            color: #888;
            font-style: italic;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        .api-note {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            color: #856404;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .api-note strong {
            color: #664d03;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‡¹ğŸ‡¼ å°ç£æ¨‚é€å½©å³æ™‚é–‹çè™Ÿç¢¼ ğŸ‡¹ğŸ‡¼</h1>
        <p>æ­¤ç¶²é å°‡è‡ªå‹•é¡¯ç¤ºå°ç£å½©åˆ¸å„é …æ¨‚é€å½©çš„æœ€æ–°é–‹çè™Ÿç¢¼åŠæ—¥æœŸã€‚</p>

        <div class="api-note">
            <strong>é‡è¦æé†’ï¼š</strong> å°ç£å½©åˆ¸å®˜æ–¹ä¸¦æœªæä¾›å…¬é–‹ APIã€‚æ­¤ç¶²é çš„è³‡æ–™æ“·å–åŠŸèƒ½éœ€è¦é€£æ¥è‡³<strong>ç¬¬ä¸‰æ–¹ API æœå‹™</strong>ã€‚<br>
            è«‹æ‚¨å°‡ JavaScript ç¨‹å¼ç¢¼ä¸­çš„ `YOUR_ACTUAL_LOTTERY_API_URL_HERE` æ›¿æ›ç‚ºæ‚¨æ‰¾åˆ°çš„å¯¦éš› API ç¶²å€ï¼Œä¸¦æ ¹æ“šè©² API çš„è³‡æ–™æ ¼å¼èª¿æ•´ç¨‹å¼ç¢¼ä¸­çš„è³‡æ–™è§£æéƒ¨åˆ†ã€‚
        </div>

        <div class="lottery-section">
            <h2>å¤§æ¨‚é€</h2>
            <span class="lottery-date" id="dlt-date">è¼‰å…¥ä¸­...</span>
            <div class="lottery-numbers" id="dlt-numbers">è¼‰å…¥ä¸­...</div>
        </div>

        <div class="lottery-section">
            <h2>å¨åŠ›å½©</h2>
            <span class="lottery-date" id="wlc-date">è¼‰å…¥ä¸­...</span>
            <div class="lottery-numbers" id="wlc-numbers">è¼‰å…¥ä¸­...</div>
        </div>

        <div class="lottery-section">
            <h2>ä»Šå½©539</h2>
            <span class="lottery-date" id="539-date">è¼‰å…¥ä¸­...</span>
            <div class="lottery-numbers" id="539-numbers">è¼‰å…¥ä¸­...</div>
        </div>

        <div class="lottery-section">
            <h2>3æ˜Ÿå½©</h2>
            <span class="lottery-date" id="3s-date">è¼‰å…¥ä¸­...</span>
            <div class="lottery-numbers" id="3s-numbers">è¼‰å…¥ä¸­...</div>
        </div>

        <div class="lottery-section">
            <h2>4æ˜Ÿå½©</h2>
            <span class="lottery-date" id="4s-date">è¼‰å…¥ä¸­...</span>
            <div class="lottery-numbers" id="4s-numbers">è¼‰å…¥ä¸­...</div>
        </div>
    </div>

    <script>
        // *** è«‹åœ¨é€™è£¡æ›¿æ›ç‚ºæ‚¨æ‰¾åˆ°çš„ç¬¬ä¸‰æ–¹ API æœå‹™ç¶²å€ï¼ ***
        // é€™å€‹ URL æ˜¯ä¸€å€‹ä½”ä½ç¬¦ï¼Œå¦‚æœæ²’æœ‰å¯ç”¨çš„ APIï¼Œæ­¤ç¶²é å°‡ç„¡æ³•æ­£å¸¸é¡¯ç¤ºè³‡æ–™ã€‚
        // æ‚¨å¯èƒ½éœ€è¦æœå°‹ "å°ç£å½©åˆ¸ API" æˆ– "Taiwan Lottery API" ä¾†å°‹æ‰¾åˆé©çš„æœå‹™ã€‚
        // ç¯„ä¾‹ï¼šå¦‚æœæ‚¨çš„ API æä¾› /api/dlt, /api/wlc ç­‰ç«¯é»ï¼Œå‰‡ API_BASE_URL æ‡‰ç‚º "https://your-api-domain.com/api"
        const API_BASE_URL = 'YOUR_ACTUAL_LOTTERY_API_URL_HERE'; 

        // é æœŸçš„ API è¿”å›è³‡æ–™çµæ§‹ç¯„ä¾‹ï¼ˆJSON æ ¼å¼ï¼‰ï¼š
        // {
        //   "date": "YYYY/MM/DD",
        //   "numbers": "XX,XX,XX,XX,XX,XX",
        //   "special_number": "YY" // åƒ…é©ç”¨æ–¼å¤§æ¨‚é€/å¨åŠ›å½©ç­‰æœ‰ç‰¹åˆ¥è™Ÿçš„å½©ç¨®
        // }

        async function fetchLotteryData(lotteryType, dateElementId, numbersElementId) {
            const dateElement = document.getElementById(dateElementId);
            const numbersElement = document.getElementById(numbersElementId);

            // æ¸…é™¤ä¹‹å‰çš„å…§å®¹ä¸¦é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            dateElement.textContent = 'è¼‰å…¥ä¸­...';
            numbersElement.textContent = 'è¼‰å…¥ä¸­...';
            numbersElement.classList.remove('error'); // ç§»é™¤éŒ¯èª¤æ¨£å¼

            // ç¢ºä¿ API_BASE_URL å·²è¢«æ›¿æ›
            if (API_BASE_URL === 'YOUR_ACTUAL_LOTTERY_API_URL_HERE' || !API_BASE_URL.startsWith('http')) {
                dateElement.textContent = 'éŒ¯èª¤ï¼šAPI ç¶²å€æœªè¨­å®š';
                numbersElement.textContent = 'è«‹ç·¨è¼¯ index.html ä¸­çš„ API_BASE_URL';
                numbersElement.classList.add('error');
                console.error("API_BASE_URL is not set or invalid. Please update it in index.html.");
                return;
            }

            try {
                // æ ¹æ“šä¸åŒçš„å½©ç¨®ï¼Œæ‹¼æ¥ API è«‹æ±‚çš„å®Œæ•´ URL
                // å‡è¨­ API çš„ç«¯é»æ˜¯ /dlt, /wlc, /539, /3s, /4s
                const response = await fetch(`${API_BASE_URL}/${lotteryType}`);

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status} - ${response.statusText}`);
                }

                const data = await response.json();

                // æ ¹æ“š API è¿”å›çš„ JSON çµæ§‹ï¼Œæ›´æ–°ç¶²é å…§å®¹
                // é€™è£¡å‡è¨­ API è¿”å›çš„ JSON æœ‰ 'date' å’Œ 'numbers' å­—æ®µ
                dateElement.textContent = `é–‹çæ—¥æœŸï¼š${data.date || 'æœªçŸ¥æ—¥æœŸ'}`;
                
                let displayNumbers = `é–‹çè™Ÿç¢¼ï¼š${data.numbers || 'N/A'}`;

                // ç‰¹æ®Šè™Ÿç¢¼è™•ç† (ä¾‹å¦‚å¤§æ¨‚é€ã€å¨åŠ›å½©)
                if (data.special_number) {
                    displayNumbers += `<span class="special-number"> ç‰¹åˆ¥è™Ÿï¼š${data.special_number}</span>`;
                } else if (data.second_number) { // å¨åŠ›å½©ç¬¬äºŒå€
                     displayNumbers += `<span class="special-number"> ç¬¬äºŒå€ï¼š${data.second_number}</span>`;
                }

                numbersElement.innerHTML = displayNumbers;

            } catch (error) {
                console.error(`æ“·å– ${lotteryType} è³‡æ–™å¤±æ•—:`, error);
                dateElement.textContent = 'è¼‰å…¥å¤±æ•—';
                numbersElement.textContent = `ç„¡æ³•è¼‰å…¥è³‡æ–™: ${error.message}`;
                numbersElement.classList.add('error');
            }
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œï¼Œè‡ªå‹•æ“·å–æ‰€æœ‰æ¨‚é€å½©è³‡æ–™
        document.addEventListener('DOMContentLoaded', () => {
            fetchLotteryData('dlt', 'dlt-date', 'dlt-numbers');     // å¤§æ¨‚é€
            fetchLotteryData('wlc', 'wlc-date', 'wlc-numbers');     // å¨åŠ›å½©
            fetchLotteryData('539', '539-date', '539-numbers');     // ä»Šå½©539
            fetchLotteryData('3s', '3s-date', '3s-numbers');       // 3æ˜Ÿå½©
            fetchLotteryData('4s', '4s-date', '4s-numbers');       // 4æ˜Ÿå½©
        });

        // æ‚¨ä¹Ÿå¯ä»¥è¨­å®šå®šæ™‚æ›´æ–°ï¼Œä¾‹å¦‚æ¯ 5 åˆ†é˜æ›´æ–°ä¸€æ¬¡ï¼ˆä½†è«‹æ³¨æ„ API çš„é »ç‡é™åˆ¶ï¼‰
        // setInterval(() => {
        //     console.log("æ­£åœ¨å®šæ™‚æ›´æ–°æ¨‚é€æ•¸æ“š...");
        //     fetchLotteryData('dlt', 'dlt-date', 'dlt-numbers');
        //     fetchLotteryData('wlc', 'wlc-date', 'wlc-numbers');
        //     fetchLotteryData('539', '539-date', '539-numbers');
        //     fetchLotteryData('3s', '3s-date', '3s-numbers');
        //     fetchLotteryData('4s', '4s-date', '4s-numbers');
        // }, 300000); // 300000 æ¯«ç§’ = 5 åˆ†é˜
    </script>
</body>
</html>
